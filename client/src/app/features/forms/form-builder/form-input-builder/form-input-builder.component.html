<div class="relative mb-10 block px-10 pt-16 pb-12 rounded-lg shadow-xl bg-neutral-50">
    <p *ngIf="!formValid">Question is invalid</p>
    <div
        *ngIf="index>0"
        (click)="onRemoveQuestion()"
        class="absolute top-8 right-6 p-1 bg-rose-600 text-white font-medium ont-semibold rounded hover:bg-rose-700 hover:shadow-lg focus:bg-rose-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-rose-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer">
        x
    </div>
    <form class="grid grid-cols-3 gap-2" [formGroup]="formInputBuilder" #formInputBuilderRef="ngForm">
        <!-- <label for="input-text" class="block text-md font-medium text-black">Question</label> -->
        <input
            type="text"
            id="input-text"
            placeHolder="Enter your question"
            formControlName="inputText"
            class="col-span-2 mt-2 w-full block focus:ring-indigo-500 focus:border-indigo-500 shadow-sm border-gray-300 rounded-md"/>
        <!-- <label class="block text-md font-medium text-black">Question Type</label> -->
        <!-- <select (change)="onChangeType($event)">
            <option *ngFor="let questionType of questionTypes">
                {{ questionType }}
            </option>
        </select> -->
        <div class="col-span-1 mt-2 leading-6 select-dropdown">
            <button
                type="button"
                class="relative w-full border border-gray-300 rounded-md pl-3 pr-10 py-2 text-left cursor-default focus:ring-indigo-500 focus:border-indigo-500"
                aria-haspopup="listbox"
                aria-expanded="true"
                aria-labelledby="listbox-label"
                (click)="toggleDropdown()">
            <span class="flex items-center">
                <span class="block truncate">{{ this.type }}</span>
            </span>
            <span
                class="ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                </svg>
            </span>
            </button>
            <ul #selectDropdown class="invisible w-1/3 absolute z-10 mt-1 w-full bg-white border border-gray-300 shadow-lg max-h-56 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm" tabindex="-1" role="listbox" aria-labelledby="listbox-label" aria-activedescendant="listbox-option-3">
                <div *ngFor="let type of this.questionTypes">
                    <li (click)="onChangeType(type)" class="text-gray-900 cursor-default select-none relative p-3 pr-9 hover:bg-indigo-500 hover:text-white" id="listbox-option-0" role="option">
                        <div class="flex items-center">
                        <span class="font-normal ml-1 block truncate">{{ type }}</span>
                        </div>
                    </li>
                </div>
            </ul>
        </div>
        <div class="col-span-3" *ngIf="type === 'Multiple choice'">
            <input class="ml-1 focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded" type="checkbox" name="multiselect" value="true" (change)="toggleMultiSelect()">
            <label for="multiselect" class="ml-1 text-sm font-medium text-gray-500">Enable multi-select</label><br>
            <button type="button" class="ml-1 mt-2 p-2 bg-gray-500 text-sm font-medium text-white rounded-md" (click)="onAddOption()">Add Option</button>
            <div formArrayName='selectOptions'>
                <div
                    class="flex items-center"
                    *ngFor="let optionControl of optionsControls; let i = index"
                    [formGroupName]="i">
                        <input
                            type="text"
                            class="w-1/3 formControl mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-500 rounded-md"
                            formControlName="option"
                        />
                        <div *ngIf="i > 1">
                            <button
                                type="button"
                                class="bg-rose-600 rounded-lg p-2 flex items-center justify-center text-white hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-expanded="false"
                                (click)="onRemoveOption(i)">x</button>
                        </div>
                        
                </div>
            </div>
        </div>
        <div class="col-span-3">
            <input type="checkbox" class="ml-1 focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded" name="required" value="true" (change)="toggleRequired()">
            <label for="required" class="ml-1 text-sm font-medium text-gray-500">Make this question required</label>
        </div>
    </form>
</div>